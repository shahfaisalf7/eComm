import{V as e}from"./vue-ROl3rvO--v4.5.5.js";import{V as i}from"./VariationMixin-D4CaVju--v4.5.5.js";import{t as r}from"./Toaster-B7Aujdl--v4.5.5.js";import"./vuedraggable-DXcGG6nr-v4.5.5.js";import"./@popperjs-ZDRvRZ2v-v4.5.5.js";import"./Errors-Ccl9m-2p-v4.5.5.js";import"./@melloware-BTYRaMki-v4.5.5.js";import"./vue-toast-notification-B0t11SXq-v4.5.5.js";new e({el:"#app",mixins:[i],created(){this.form=this.prepareFormData(FleetCart.data.variation)},mounted(){this.initColorPicker()},methods:{prepareFormData(t){return t.uid=this.uid(),t.values.forEach(s=>{s.uid=this.uid()}),t},submit(){this.formSubmitting=!0,$.ajax({type:"PUT",url:route("admin.variations.update",this.form.id),data:this.transformData(this.form),dataType:"json",success:t=>{r(t.message,{type:"success"}),this.errors.reset()}}).catch(t=>{r(t.responseJSON.message,{type:"default"}),this.errors.reset(),this.errors.record(t.responseJSON.errors),this.focusFirstErrorField(this.$refs.form.elements)}).always(()=>{this.formSubmitting=!1})}}});
